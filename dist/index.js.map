{"version":3,"sources":["../src/index.ts","../src/commands/install.ts","../src/lib/logger.ts","../src/lib/license.ts","../src/types/license.ts","../src/lib/installer.ts","../src/lib/detector.ts","../src/commands/uninstall.ts","../src/commands/activate.ts","../src/commands/status.ts","../src/commands/update.ts"],"sourcesContent":["import { Command } from 'commander';\nimport chalk from 'chalk';\nimport { installCommand } from './commands/install.js';\nimport { uninstallCommand } from './commands/uninstall.js';\nimport { activateCommand } from './commands/activate.js';\nimport { statusCommand } from './commands/status.js';\nimport { updateCommand } from './commands/update.js';\nimport { readFileSync } from 'fs';\nimport { fileURLToPath } from 'url';\nimport { dirname, join } from 'path';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\nconst pkg = JSON.parse(readFileSync(join(__dirname, '..', 'package.json'), 'utf-8'));\n\nconst program = new Command();\n\nprogram\n  .name('claude-tools')\n  .description(chalk.cyan('Claude Code automation toolkit by Atlashub'))\n  .version(pkg.version, '-v, --version');\n\n// Register commands\nprogram.addCommand(installCommand);\nprogram.addCommand(uninstallCommand);\nprogram.addCommand(activateCommand);\nprogram.addCommand(statusCommand);\nprogram.addCommand(updateCommand);\n\n// Default action (no command)\nprogram.action(() => {\n  console.log(chalk.cyan(`\n╔═══════════════════════════════════════════════════════════╗\n║                                                           ║\n║   ${chalk.bold('Claude Tools')} by Atlashub - v${pkg.version}                  ║\n║   GitFlow, APEX, EF Core, Prompts & more                  ║\n║                                                           ║\n╚═══════════════════════════════════════════════════════════╝\n`));\n  program.outputHelp();\n});\n\nprogram.parse();\n","import { Command } from 'commander';\nimport chalk from 'chalk';\nimport { logger } from '../lib/logger.js';\nimport { checkLicense } from '../lib/license.js';\nimport { installCommands } from '../lib/installer.js';\nimport { detectProject } from '../lib/detector.js';\n\nexport const installCommand = new Command('install')\n  .alias('i')\n  .description('Install GitFlow commands, agents, and hooks')\n  .option('-f, --force', 'Overwrite existing files')\n  .option('-g, --global', 'Install to user directory ~/.claude (default)', true)\n  .option('-l, --local', 'Install to project directory ./.claude')\n  .option('--commands-only', 'Install only commands')\n  .option('--agents-only', 'Install only agents')\n  .option('--hooks-only', 'Install only hooks')\n  .option('--no-config', 'Skip config file creation')\n  .option('--skip-license', 'Skip license check (for testing)')\n  .action(async (options) => {\n    logger.header('Installing Claude GitFlow');\n\n    // Determine install location\n    const isGlobal = !options.local;\n\n    // Check license (unless skipped)\n    if (!options.skipLicense) {\n      const license = await checkLicense();\n\n      if (!license.valid) {\n        logger.box(\n          [\n            'No valid license found.',\n            '',\n            'To activate your license:',\n            `  ${chalk.cyan('claude-gitflow activate <YOUR-KEY>')}`,\n            '',\n            'To purchase a license:',\n            `  ${chalk.cyan('https://atlashub.ch/claude-gitflow')}`,\n            '',\n            chalk.dim('Use --skip-license to test without a license'),\n          ],\n          'warning'\n        );\n        return;\n      }\n\n      logger.success(`License valid (${license.plan})`);\n    } else {\n      logger.warning('License check skipped');\n    }\n\n    // Detect project (for info only)\n    const spinner = logger.spinner('Analyzing environment...');\n    const project = await detectProject();\n    spinner.stop();\n\n    console.log();\n    logger.info(`Install location: ${isGlobal ? chalk.cyan('~/.claude (global)') : chalk.yellow('./.claude (local)')}`);\n    logger.info(`Git repository: ${project.isGitRepo ? chalk.green('Yes') : chalk.gray('No')}`);\n    logger.info(`.NET project: ${project.hasDotNet ? chalk.green('Yes') : chalk.gray('No')}`);\n    logger.info(`EF Core: ${project.hasEfCore ? chalk.green('Yes') : chalk.gray('No')}`);\n    console.log();\n\n    // Determine components to install\n    const components: ('commands' | 'agents' | 'hooks' | 'all')[] = [];\n    if (options.commandsOnly) components.push('commands');\n    else if (options.agentsOnly) components.push('agents');\n    else if (options.hooksOnly) components.push('hooks');\n    else components.push('all');\n\n    // Install\n    try {\n      const result = await installCommands({\n        force: options.force,\n        global: isGlobal,\n        skipConfig: !options.config,\n        components,\n      });\n\n      console.log();\n\n      if (result.errors.length > 0) {\n        logger.warning(`Completed with ${result.errors.length} error(s)`);\n      }\n\n      const summary = [\n        chalk.green.bold('Installation complete!'),\n        '',\n        `Files installed: ${chalk.cyan(result.installed)}`,\n        `Files skipped: ${chalk.yellow(result.skipped)} (use --force to overwrite)`,\n        '',\n        'Available commands in Claude Code:',\n        '',\n        chalk.bold('GitFlow:'),\n        `  ${chalk.cyan('/gitflow')}        - Full GitFlow workflow`,\n        `  ${chalk.cyan('/gitflow:1-init')} - Initialize GitFlow`,\n        `  ${chalk.cyan('/gitflow:2-status')} - Show status`,\n        `  ${chalk.cyan('/gitflow:3-commit')} - Smart commit`,\n        `  ${chalk.cyan('/gitflow:4-plan')} - Create plan`,\n        `  ${chalk.cyan('/gitflow:5-exec')} - Execute plan`,\n        `  ${chalk.cyan('/gitflow:6-abort')} - Rollback`,\n        '',\n        chalk.bold('Development:'),\n        `  ${chalk.cyan('/apex')}           - APEX methodology`,\n        `  ${chalk.cyan('/epct')}           - Explore-Plan-Code-Test`,\n        `  ${chalk.cyan('/debug')}          - Systematic debugging`,\n        '',\n        chalk.bold('EF Core:'),\n        `  ${chalk.cyan('/db-migration')}   - Migration management`,\n        `  ${chalk.cyan('/ef-migration-sync')} - Sync migrations`,\n      ];\n\n      logger.box(summary, 'success');\n    } catch (error) {\n      logger.error(error instanceof Error ? error.message : 'Installation failed');\n      process.exit(1);\n    }\n  });\n","import chalk from 'chalk';\nimport ora, { Ora } from 'ora';\n\nexport const logger = {\n  info: (message: string) => console.log(chalk.blue('ℹ'), message),\n  success: (message: string) => console.log(chalk.green('✓'), message),\n  warning: (message: string) => console.log(chalk.yellow('⚠'), message),\n  error: (message: string) => console.log(chalk.red('✗'), message),\n\n  header: (title: string) => {\n    console.log();\n    console.log(chalk.cyan('═'.repeat(60)));\n    console.log(chalk.cyan.bold(`  ${title}`));\n    console.log(chalk.cyan('═'.repeat(60)));\n    console.log();\n  },\n\n  step: (current: number, total: number, message: string) => {\n    console.log(chalk.gray(`[${current}/${total}]`), message);\n  },\n\n  spinner: (text: string): Ora => {\n    return ora({ text, color: 'cyan' }).start();\n  },\n\n  box: (content: string[], type: 'info' | 'success' | 'warning' | 'error' = 'info') => {\n    const colors = {\n      info: chalk.cyan,\n      success: chalk.green,\n      warning: chalk.yellow,\n      error: chalk.red,\n    };\n    const color = colors[type];\n    const maxLen = Math.max(...content.map((l) => l.length));\n    const border = color('─'.repeat(maxLen + 4));\n\n    console.log();\n    console.log(border);\n    content.forEach((line) => {\n      console.log(color('│'), line.padEnd(maxLen), color('│'));\n    });\n    console.log(border);\n    console.log();\n  },\n};\n","import { createHash } from 'crypto';\nimport { homedir } from 'os';\nimport { join } from 'path';\nimport fs from 'fs-extra';\nimport fetch from 'node-fetch';\nimport { hostname, userInfo, platform } from 'os';\nimport {\n  LicenseKeySchema,\n  LicenseResponse,\n  LicenseResponseSchema,\n  StoredLicense,\n  StoredLicenseSchema,\n} from '../types/license.js';\nimport { logger } from './logger.js';\n\nconst API_URL = process.env.LICENSE_API_URL || 'https://api.atlashub.ch/api/licenses';\nconst LICENSE_FILE = join(homedir(), '.claude-gitflow-license.json');\nconst SECRET_SALT = 'atlashub-cgf-2024';\n\n/**\n * Generate a unique machine identifier\n */\nexport function getMachineId(): string {\n  const data = `${hostname()}-${userInfo().username}-${platform()}`;\n  return createHash('sha256').update(data).digest('hex').substring(0, 16);\n}\n\n/**\n * Validate license key format locally (checksum verification)\n */\nexport function validateKeyFormat(key: string): boolean {\n  const result = LicenseKeySchema.safeParse(key);\n  if (!result.success) return false;\n\n  const parts = key.split('-');\n  const expectedChecksum = generateChecksum(parts[1] + parts[2]);\n  return parts[3] === expectedChecksum;\n}\n\n/**\n * Generate checksum for license key validation\n */\nfunction generateChecksum(input: string): string {\n  return createHash('sha256')\n    .update(input + SECRET_SALT)\n    .digest('base64')\n    .replace(/[+/=]/g, '')\n    .substring(0, 4)\n    .toUpperCase();\n}\n\n/**\n * Validate license via API\n */\nexport async function validateLicenseOnline(licenseKey: string): Promise<LicenseResponse> {\n  try {\n    const response = await fetch(`${API_URL}/validate`, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        licenseKey,\n        machineId: getMachineId(),\n      }),\n    });\n\n    const data = await response.json();\n    return LicenseResponseSchema.parse(data);\n  } catch (error) {\n    return {\n      valid: false,\n      error: `Connection error: ${error instanceof Error ? error.message : 'Unknown error'}`,\n    };\n  }\n}\n\n/**\n * Save license to local file\n */\nexport async function saveLicense(\n  key: string,\n  plan: string,\n  expiresAt: string\n): Promise<void> {\n  const license: StoredLicense = {\n    key,\n    plan: plan as StoredLicense['plan'],\n    expiresAt,\n    validatedAt: new Date().toISOString(),\n    machineId: getMachineId(),\n  };\n\n  await fs.writeJson(LICENSE_FILE, license, { spaces: 2 });\n}\n\n/**\n * Load license from local file\n */\nexport async function loadLicense(): Promise<StoredLicense | null> {\n  try {\n    if (!(await fs.pathExists(LICENSE_FILE))) {\n      return null;\n    }\n\n    const data = await fs.readJson(LICENSE_FILE);\n    return StoredLicenseSchema.parse(data);\n  } catch {\n    return null;\n  }\n}\n\n/**\n * Delete local license\n */\nexport async function deleteLicense(): Promise<void> {\n  if (await fs.pathExists(LICENSE_FILE)) {\n    await fs.remove(LICENSE_FILE);\n  }\n}\n\n/**\n * Check if license is valid (with local cache)\n */\nexport async function checkLicense(): Promise<{\n  valid: boolean;\n  plan?: string;\n  error?: string;\n  offline?: boolean;\n}> {\n  const local = await loadLicense();\n\n  if (!local) {\n    return { valid: false, error: 'No license found' };\n  }\n\n  // Check local expiration first\n  if (new Date(local.expiresAt) < new Date()) {\n    return { valid: false, error: 'License expired' };\n  }\n\n  // Check machine ID\n  if (local.machineId !== getMachineId()) {\n    return { valid: false, error: 'License registered to a different machine' };\n  }\n\n  // Re-validate online every 7 days\n  const validatedAt = new Date(local.validatedAt);\n  const daysSinceValidation = (Date.now() - validatedAt.getTime()) / (1000 * 60 * 60 * 24);\n\n  if (daysSinceValidation > 7) {\n    try {\n      const result = await validateLicenseOnline(local.key);\n      if (result.valid && result.plan && result.expiresAt) {\n        await saveLicense(local.key, result.plan, result.expiresAt);\n        return { valid: true, plan: result.plan };\n      }\n      return { valid: false, error: result.error };\n    } catch {\n      // Offline: accept local license if not expired\n      logger.warning('Could not validate online, using cached license');\n      return { valid: true, plan: local.plan, offline: true };\n    }\n  }\n\n  return { valid: true, plan: local.plan };\n}\n","import { z } from 'zod';\n\nexport const LicenseKeySchema = z.string().regex(\n  /^CGFW-[A-Z0-9]{4}-[A-Z0-9]{4}-[A-Z0-9]{4}$/,\n  'Invalid license key format. Expected: CGFW-XXXX-XXXX-XXXX'\n);\n\nexport const LicensePlanSchema = z.enum(['trial', 'pro', 'team', 'enterprise']);\n\nexport const LicenseResponseSchema = z.object({\n  valid: z.boolean(),\n  plan: LicensePlanSchema.optional(),\n  expiresAt: z.string().optional(),\n  features: z.array(z.string()).optional(),\n  error: z.string().optional(),\n});\n\nexport const StoredLicenseSchema = z.object({\n  key: z.string(),\n  plan: LicensePlanSchema,\n  expiresAt: z.string(),\n  validatedAt: z.string(),\n  machineId: z.string(),\n});\n\nexport type LicenseKey = z.infer<typeof LicenseKeySchema>;\nexport type LicensePlan = z.infer<typeof LicensePlanSchema>;\nexport type LicenseResponse = z.infer<typeof LicenseResponseSchema>;\nexport type StoredLicense = z.infer<typeof StoredLicenseSchema>;\n","import { join, dirname } from 'path';\nimport { fileURLToPath } from 'url';\nimport { homedir } from 'os';\nimport fs from 'fs-extra';\nimport { logger } from './logger.js';\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = dirname(__filename);\n\nconst PACKAGE_ROOT = join(__dirname, '..', '..');\nconst TEMPLATES_DIR = join(PACKAGE_ROOT, 'templates');\n\n// Directories to install\nconst INSTALL_DIRS = ['commands', 'agents', 'hooks'];\n\nexport interface InstallOptions {\n  force?: boolean;\n  global?: boolean; // true = ~/.claude, false = ./.claude\n  skipConfig?: boolean;\n  components?: ('commands' | 'agents' | 'hooks' | 'all')[];\n}\n\nexport interface UninstallOptions {\n  global?: boolean;\n  keepConfig?: boolean;\n  components?: ('commands' | 'agents' | 'hooks' | 'all')[];\n}\n\n/**\n * Get the target .claude directory\n */\nfunction getClaudeDir(global: boolean): string {\n  if (global) {\n    // User-level: ~/.claude or C:\\Users\\<user>\\.claude\n    return join(homedir(), '.claude');\n  } else {\n    // Project-level: ./.claude\n    return join(process.cwd(), '.claude');\n  }\n}\n\n/**\n * Get list of all files to install from a template directory\n */\nasync function getTemplateFiles(dir: string, baseDir: string = ''): Promise<string[]> {\n  const files: string[] = [];\n  const entries = await fs.readdir(dir, { withFileTypes: true });\n\n  for (const entry of entries) {\n    const relativePath = baseDir ? join(baseDir, entry.name) : entry.name;\n\n    if (entry.isDirectory()) {\n      const subFiles = await getTemplateFiles(join(dir, entry.name), relativePath);\n      files.push(...subFiles);\n    } else if (entry.isFile() && !entry.name.startsWith('.')) {\n      files.push(relativePath);\n    }\n  }\n\n  return files;\n}\n\n/**\n * Install all templates to the target directory\n */\nexport async function installCommands(options: InstallOptions = {}): Promise<{\n  installed: number;\n  skipped: number;\n  errors: string[];\n}> {\n  const global = options.global ?? true; // Default to global (user-level)\n  const claudeDir = getClaudeDir(global);\n  const components = options.components ?? ['all'];\n  const installAll = components.includes('all');\n\n  const result = {\n    installed: 0,\n    skipped: 0,\n    errors: [] as string[],\n  };\n\n  logger.info(`Installing to: ${claudeDir}`);\n\n  // Determine which directories to install\n  const dirsToInstall = installAll\n    ? INSTALL_DIRS\n    : INSTALL_DIRS.filter((d) => components.includes(d as any));\n\n  for (const dir of dirsToInstall) {\n    const sourceDir = join(TEMPLATES_DIR, dir);\n    const targetDir = join(claudeDir, dir);\n\n    if (!(await fs.pathExists(sourceDir))) {\n      logger.warning(`Source directory not found: ${dir}`);\n      continue;\n    }\n\n    // Get all files to install\n    const files = await getTemplateFiles(sourceDir);\n\n    for (const file of files) {\n      const src = join(sourceDir, file);\n      const dest = join(targetDir, file);\n\n      try {\n        // Check if file exists\n        const exists = await fs.pathExists(dest);\n\n        if (exists && !options.force) {\n          result.skipped++;\n          continue;\n        }\n\n        // Ensure parent directory exists\n        await fs.ensureDir(dirname(dest));\n\n        // Copy file\n        await fs.copy(src, dest, { overwrite: options.force });\n        result.installed++;\n\n        // Log individual files only in verbose mode or for important ones\n        if (file.endsWith('.md') && !file.includes('/')) {\n          logger.success(`Installed ${dir}/${file}`);\n        }\n      } catch (error) {\n        const msg = `Failed to install ${file}: ${error}`;\n        result.errors.push(msg);\n        logger.error(msg);\n      }\n    }\n\n    // Log summary for this directory\n    const dirFiles = files.length;\n    logger.success(`Installed ${dir}/ (${dirFiles} files)`);\n  }\n\n  // Create gitflow structure if installing commands\n  if (installAll || components.includes('commands')) {\n    const gitflowDir = join(claudeDir, 'gitflow');\n    await fs.ensureDir(join(gitflowDir, 'plans'));\n    await fs.ensureDir(join(gitflowDir, 'logs'));\n    await fs.ensureDir(join(gitflowDir, 'migrations'));\n\n    // Copy default config\n    if (!options.skipConfig) {\n      const configSrc = join(PACKAGE_ROOT, 'config', 'default-config.json');\n      const configDest = join(gitflowDir, 'config.json');\n\n      if (!(await fs.pathExists(configDest)) || options.force) {\n        if (await fs.pathExists(configSrc)) {\n          await fs.copy(configSrc, configDest);\n          logger.success('Created gitflow/config.json');\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\n/**\n * Uninstall templates from the target directory\n */\nexport async function uninstallCommands(options: UninstallOptions = {}): Promise<{\n  removed: number;\n  errors: string[];\n}> {\n  const global = options.global ?? true;\n  const claudeDir = getClaudeDir(global);\n  const components = options.components ?? ['all'];\n  const removeAll = components.includes('all');\n\n  const result = {\n    removed: 0,\n    errors: [] as string[],\n  };\n\n  // Determine which directories to remove\n  const dirsToRemove = removeAll\n    ? INSTALL_DIRS\n    : INSTALL_DIRS.filter((d) => components.includes(d as any));\n\n  for (const dir of dirsToRemove) {\n    const targetDir = join(claudeDir, dir);\n\n    if (await fs.pathExists(targetDir)) {\n      try {\n        // For commands, only remove our files (gitflow/, apex/, etc.)\n        if (dir === 'commands') {\n          const ourDirs = ['gitflow', 'gitflow.md', 'apex', 'apex.md', 'ef-migrations', 'git', 'prompts', 'epct.md', 'debug.md', 'explore.md', 'explain.md', 'oneshot.md', 'quick-search.md', 'review.md'];\n\n          for (const item of ourDirs) {\n            const itemPath = join(targetDir, item);\n            if (await fs.pathExists(itemPath)) {\n              await fs.remove(itemPath);\n              result.removed++;\n            }\n          }\n          logger.success(`Removed commands (our files only)`);\n        } else {\n          // For agents and hooks, remove the whole directory\n          await fs.remove(targetDir);\n          result.removed++;\n          logger.success(`Removed ${dir}/`);\n        }\n      } catch (error) {\n        const msg = `Failed to remove ${dir}: ${error}`;\n        result.errors.push(msg);\n        logger.error(msg);\n      }\n    }\n  }\n\n  // Remove gitflow directory if not keeping config\n  if (!options.keepConfig && (removeAll || components.includes('commands'))) {\n    const gitflowDir = join(claudeDir, 'gitflow');\n    if (await fs.pathExists(gitflowDir)) {\n      await fs.remove(gitflowDir);\n      logger.success('Removed gitflow/');\n      result.removed++;\n    }\n  }\n\n  return result;\n}\n\n/**\n * Update commands to latest version\n */\nexport async function updateCommands(options: { global?: boolean } = {}): Promise<void> {\n  await installCommands({\n    force: true,\n    skipConfig: true,\n    global: options.global ?? true,\n  });\n}\n\n/**\n * Check installation status\n */\nexport async function checkInstallation(options: { global?: boolean } = {}): Promise<{\n  location: string;\n  installed: boolean;\n  components: {\n    commands: { installed: boolean; count: number };\n    agents: { installed: boolean; count: number };\n    hooks: { installed: boolean; count: number };\n  };\n  gitflow: {\n    configExists: boolean;\n    plansCount: number;\n  };\n}> {\n  const global = options.global ?? true;\n  const claudeDir = getClaudeDir(global);\n\n  const result = {\n    location: claudeDir,\n    installed: false,\n    components: {\n      commands: { installed: false, count: 0 },\n      agents: { installed: false, count: 0 },\n      hooks: { installed: false, count: 0 },\n    },\n    gitflow: {\n      configExists: false,\n      plansCount: 0,\n    },\n  };\n\n  // Check commands\n  const commandsDir = join(claudeDir, 'commands');\n  if (await fs.pathExists(commandsDir)) {\n    const gitflowExists = await fs.pathExists(join(commandsDir, 'gitflow.md'));\n    const apexExists = await fs.pathExists(join(commandsDir, 'apex.md'));\n    result.components.commands.installed = gitflowExists || apexExists;\n\n    // Count .md files\n    const files = await getTemplateFiles(commandsDir);\n    result.components.commands.count = files.filter((f) => f.endsWith('.md')).length;\n  }\n\n  // Check agents\n  const agentsDir = join(claudeDir, 'agents');\n  if (await fs.pathExists(agentsDir)) {\n    const files = await fs.readdir(agentsDir);\n    result.components.agents.count = files.filter((f) => f.endsWith('.md')).length;\n    result.components.agents.installed = result.components.agents.count > 0;\n  }\n\n  // Check hooks\n  const hooksDir = join(claudeDir, 'hooks');\n  if (await fs.pathExists(hooksDir)) {\n    result.components.hooks.installed = await fs.pathExists(join(hooksDir, 'hooks.json'));\n    result.components.hooks.count = result.components.hooks.installed ? 1 : 0;\n  }\n\n  // Check gitflow\n  const gitflowDir = join(claudeDir, 'gitflow');\n  result.gitflow.configExists = await fs.pathExists(join(gitflowDir, 'config.json'));\n\n  const plansDir = join(gitflowDir, 'plans');\n  if (await fs.pathExists(plansDir)) {\n    const plans = await fs.readdir(plansDir);\n    result.gitflow.plansCount = plans.filter((f) => f.endsWith('.md')).length;\n  }\n\n  result.installed =\n    result.components.commands.installed ||\n    result.components.agents.installed ||\n    result.components.hooks.installed;\n\n  return result;\n}\n\n/**\n * List all installed commands\n */\nexport async function listInstalledCommands(options: { global?: boolean } = {}): Promise<string[]> {\n  const global = options.global ?? true;\n  const claudeDir = getClaudeDir(global);\n  const commandsDir = join(claudeDir, 'commands');\n\n  if (!(await fs.pathExists(commandsDir))) {\n    return [];\n  }\n\n  const files = await getTemplateFiles(commandsDir);\n  return files.filter((f) => f.endsWith('.md')).map((f) => f.replace('.md', ''));\n}\n","import { join } from 'path';\nimport fs from 'fs-extra';\nimport { execSync } from 'child_process';\n\nexport interface ProjectInfo {\n  isGitRepo: boolean;\n  currentBranch: string | null;\n  hasDotNet: boolean;\n  hasEfCore: boolean;\n  csprojFiles: string[];\n  dbContextName: string | null;\n}\n\n/**\n * Detect project information\n */\nexport async function detectProject(cwd: string = process.cwd()): Promise<ProjectInfo> {\n  const info: ProjectInfo = {\n    isGitRepo: false,\n    currentBranch: null,\n    hasDotNet: false,\n    hasEfCore: false,\n    csprojFiles: [],\n    dbContextName: null,\n  };\n\n  // Check Git\n  info.isGitRepo = await fs.pathExists(join(cwd, '.git'));\n\n  if (info.isGitRepo) {\n    try {\n      info.currentBranch = execSync('git branch --show-current', {\n        cwd,\n        encoding: 'utf-8',\n      }).trim();\n    } catch {\n      info.currentBranch = null;\n    }\n  }\n\n  // Find .csproj files\n  const files = await findFiles(cwd, '.csproj');\n  info.csprojFiles = files;\n  info.hasDotNet = files.length > 0;\n\n  // Check for EF Core\n  for (const csproj of files) {\n    const content = await fs.readFile(csproj, 'utf-8');\n    if (content.includes('Microsoft.EntityFrameworkCore')) {\n      info.hasEfCore = true;\n\n      // Try to find DbContext name\n      const match = content.match(/Include=\"([^\"]*DbContext[^\"]*)\"/);\n      if (match) {\n        info.dbContextName = match[1];\n      }\n      break;\n    }\n  }\n\n  return info;\n}\n\n/**\n * Find files with specific extension\n */\nasync function findFiles(\n  dir: string,\n  extension: string,\n  depth: number = 3\n): Promise<string[]> {\n  const results: string[] = [];\n\n  async function search(currentDir: string, currentDepth: number) {\n    if (currentDepth > depth) return;\n\n    try {\n      const entries = await fs.readdir(currentDir, { withFileTypes: true });\n\n      for (const entry of entries) {\n        const fullPath = join(currentDir, entry.name);\n\n        if (entry.isDirectory() && !entry.name.startsWith('.') && entry.name !== 'node_modules') {\n          await search(fullPath, currentDepth + 1);\n        } else if (entry.isFile() && entry.name.endsWith(extension)) {\n          results.push(fullPath);\n        }\n      }\n    } catch {\n      // Ignore permission errors\n    }\n  }\n\n  await search(dir, 0);\n  return results;\n}\n","import { Command } from 'commander';\nimport inquirer from 'inquirer';\nimport chalk from 'chalk';\nimport { logger } from '../lib/logger.js';\nimport { uninstallCommands } from '../lib/installer.js';\n\nexport const uninstallCommand = new Command('uninstall')\n  .alias('u')\n  .description('Remove GitFlow commands, agents, and hooks')\n  .option('-g, --global', 'Uninstall from user directory ~/.claude (default)', true)\n  .option('-l, --local', 'Uninstall from project directory ./.claude')\n  .option('--commands-only', 'Remove only commands')\n  .option('--agents-only', 'Remove only agents')\n  .option('--hooks-only', 'Remove only hooks')\n  .option('--keep-config', 'Keep configuration file')\n  .option('-y, --yes', 'Skip confirmation')\n  .action(async (options) => {\n    logger.header('Uninstalling Claude GitFlow');\n\n    const isGlobal = !options.local;\n    const location = isGlobal ? '~/.claude' : './.claude';\n\n    logger.info(`Location: ${chalk.cyan(location)}`);\n    console.log();\n\n    // Confirm\n    if (!options.yes) {\n      const { confirm } = await inquirer.prompt([\n        {\n          type: 'confirm',\n          name: 'confirm',\n          message: `Are you sure you want to uninstall from ${location}?`,\n          default: false,\n        },\n      ]);\n\n      if (!confirm) {\n        logger.info('Cancelled.');\n        return;\n      }\n    }\n\n    // Determine components to remove\n    const components: ('commands' | 'agents' | 'hooks' | 'all')[] = [];\n    if (options.commandsOnly) components.push('commands');\n    else if (options.agentsOnly) components.push('agents');\n    else if (options.hooksOnly) components.push('hooks');\n    else components.push('all');\n\n    try {\n      const result = await uninstallCommands({\n        global: isGlobal,\n        keepConfig: options.keepConfig,\n        components,\n      });\n\n      console.log();\n\n      if (result.errors.length > 0) {\n        logger.warning(`Completed with ${result.errors.length} error(s)`);\n      } else {\n        logger.success(`Uninstalled ${result.removed} item(s) successfully.`);\n      }\n    } catch (error) {\n      logger.error(error instanceof Error ? error.message : 'Uninstallation failed');\n      process.exit(1);\n    }\n  });\n","import { Command } from 'commander';\nimport inquirer from 'inquirer';\nimport chalk from 'chalk';\nimport { logger } from '../lib/logger.js';\nimport {\n  validateKeyFormat,\n  validateLicenseOnline,\n  saveLicense,\n  deleteLicense,\n} from '../lib/license.js';\n\nexport const activateCommand = new Command('activate')\n  .description('Activate your license')\n  .argument('[key]', 'License key (CGFW-XXXX-XXXX-XXXX)')\n  .option('--deactivate', 'Remove current license')\n  .action(async (key, options) => {\n    logger.header('License Activation');\n\n    // Deactivate\n    if (options.deactivate) {\n      await deleteLicense();\n      logger.success('License deactivated.');\n      return;\n    }\n\n    // Prompt for key if not provided\n    if (!key) {\n      const answer = await inquirer.prompt([\n        {\n          type: 'input',\n          name: 'licenseKey',\n          message: 'Enter your license key:',\n          validate: (input) => {\n            if (validateKeyFormat(input)) {\n              return true;\n            }\n            return 'Invalid format. Expected: CGFW-XXXX-XXXX-XXXX';\n          },\n        },\n      ]);\n      key = answer.licenseKey;\n    }\n\n    // Validate format locally\n    if (!validateKeyFormat(key)) {\n      logger.error('Invalid license key format.');\n      logger.info('Expected format: CGFW-XXXX-XXXX-XXXX');\n      return;\n    }\n\n    // Validate online\n    const spinner = logger.spinner('Validating license...');\n\n    try {\n      const result = await validateLicenseOnline(key);\n      spinner.stop();\n\n      if (result.valid && result.plan && result.expiresAt) {\n        await saveLicense(key, result.plan, result.expiresAt);\n\n        console.log();\n        logger.box(\n          [\n            chalk.green.bold('License activated successfully!'),\n            '',\n            `Plan:    ${chalk.cyan(result.plan)}`,\n            `Expires: ${chalk.cyan(new Date(result.expiresAt).toLocaleDateString())}`,\n          ],\n          'success'\n        );\n      } else {\n        console.log();\n        logger.error(result.error || 'License validation failed.');\n        logger.info(`Purchase at: ${chalk.cyan('https://atlashub.ch/claude-gitflow')}`);\n      }\n    } catch (error) {\n      spinner.stop();\n      logger.error(`Validation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);\n    }\n  });\n","import { Command } from 'commander';\nimport chalk from 'chalk';\nimport Table from 'cli-table3';\nimport { logger } from '../lib/logger.js';\nimport { checkLicense, loadLicense } from '../lib/license.js';\nimport { checkInstallation, listInstalledCommands } from '../lib/installer.js';\nimport { detectProject } from '../lib/detector.js';\n\nexport const statusCommand = new Command('status')\n  .alias('s')\n  .description('Show installation and license status')\n  .option('-g, --global', 'Check user directory ~/.claude (default)', true)\n  .option('-l, --local', 'Check project directory ./.claude')\n  .option('-v, --verbose', 'Show detailed command list')\n  .action(async (options) => {\n    logger.header('Claude Tools Status');\n\n    const isGlobal = !options.local;\n\n    // License status\n    const license = await loadLicense();\n    const licenseCheck = await checkLicense();\n\n    const licenseTable = new Table({\n      head: [chalk.cyan('License')],\n      style: { head: [], border: [] },\n    });\n\n    if (license && licenseCheck.valid) {\n      licenseTable.push(\n        [`Status: ${chalk.green('Active')}`],\n        [`Plan: ${chalk.cyan(license.plan)}`],\n        [`Expires: ${new Date(license.expiresAt).toLocaleDateString()}`],\n        [`Machine: ${license.machineId.substring(0, 8)}...`]\n      );\n    } else {\n      licenseTable.push(\n        [`Status: ${chalk.yellow('Not activated')}`],\n        [`Run: ${chalk.cyan('claude-tools activate <KEY>')}`]\n      );\n    }\n\n    console.log(licenseTable.toString());\n    console.log();\n\n    // Installation status\n    const installation = await checkInstallation({ global: isGlobal });\n\n    const installTable = new Table({\n      head: [chalk.cyan('Installation'), chalk.cyan('Status')],\n      style: { head: [], border: [] },\n    });\n\n    installTable.push(\n      ['Location', chalk.cyan(installation.location)],\n      [''],\n      [\n        'Commands',\n        installation.components.commands.installed\n          ? chalk.green(`✓ ${installation.components.commands.count} files`)\n          : chalk.gray('Not installed'),\n      ],\n      [\n        'Agents',\n        installation.components.agents.installed\n          ? chalk.green(`✓ ${installation.components.agents.count} files`)\n          : chalk.gray('Not installed'),\n      ],\n      [\n        'Hooks',\n        installation.components.hooks.installed\n          ? chalk.green(`✓ Configured`)\n          : chalk.gray('Not installed'),\n      ],\n      [''],\n      [\n        'GitFlow Config',\n        installation.gitflow.configExists\n          ? chalk.green('✓ Configured')\n          : chalk.gray('Not configured'),\n      ],\n      [\n        'Active Plans',\n        installation.gitflow.plansCount > 0\n          ? chalk.yellow(installation.gitflow.plansCount.toString())\n          : chalk.gray('0'),\n      ]\n    );\n\n    console.log(installTable.toString());\n    console.log();\n\n    // Verbose: list all commands\n    if (options.verbose && installation.components.commands.installed) {\n      const commands = await listInstalledCommands({ global: isGlobal });\n\n      const cmdTable = new Table({\n        head: [chalk.cyan('Installed Commands')],\n        style: { head: [], border: [] },\n      });\n\n      // Group commands\n      const groups: Record<string, string[]> = {};\n      for (const cmd of commands) {\n        const parts = cmd.split('/');\n        const group = parts.length > 1 ? parts[0] : 'root';\n        if (!groups[group]) groups[group] = [];\n        groups[group].push('/' + cmd);\n      }\n\n      for (const [group, cmds] of Object.entries(groups)) {\n        if (group !== 'root') {\n          cmdTable.push([chalk.bold(group)]);\n        }\n        for (const cmd of cmds.slice(0, 10)) {\n          cmdTable.push([`  ${chalk.cyan(cmd)}`]);\n        }\n        if (cmds.length > 10) {\n          cmdTable.push([chalk.gray(`  ... and ${cmds.length - 10} more`)]);\n        }\n      }\n\n      console.log(cmdTable.toString());\n      console.log();\n    }\n\n    // Project info\n    const project = await detectProject();\n\n    const projectTable = new Table({\n      head: [chalk.cyan('Current Project')],\n      style: { head: [], border: [] },\n    });\n\n    projectTable.push(\n      [`Git: ${project.isGitRepo ? chalk.green('Yes') : chalk.yellow('No')}`],\n      [`Branch: ${project.currentBranch || chalk.gray('N/A')}`],\n      [`.NET: ${project.hasDotNet ? chalk.green('Yes') : chalk.gray('No')}`],\n      [`EF Core: ${project.hasEfCore ? chalk.green('Yes') : chalk.gray('No')}`]\n    );\n\n    console.log(projectTable.toString());\n\n    // Quick help\n    if (!installation.installed) {\n      console.log();\n      logger.info(`Run ${chalk.cyan('claude-tools install')} to install commands`);\n    }\n  });\n","import { Command } from 'commander';\nimport { logger } from '../lib/logger.js';\nimport { updateCommands, checkInstallation } from '../lib/installer.js';\n\nexport const updateCommand = new Command('update')\n  .description('Update commands to the latest version')\n  .action(async () => {\n    logger.header('Updating Claude GitFlow Commands');\n\n    // Check if installed\n    const installation = await checkInstallation();\n\n    if (!installation.installed) {\n      logger.warning('GitFlow commands are not installed.');\n      logger.info('Run: claude-gitflow install');\n      return;\n    }\n\n    const spinner = logger.spinner('Updating commands...');\n\n    try {\n      await updateCommands();\n      spinner.succeed('Commands updated successfully!');\n    } catch (error) {\n      spinner.fail('Update failed');\n      logger.error(error instanceof Error ? error.message : 'Unknown error');\n      process.exit(1);\n    }\n  });\n"],"mappings":"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","names":["Command","chalk","chalk","join","homedir","fs","join","homedir","fs","join","fs","chalk","Command","chalk","Command","chalk","Command","inquirer","chalk","Command","inquirer","chalk","Command","chalk","Command","chalk","Command","Command","fileURLToPath","dirname","join","__filename","__dirname","Command","chalk"]}